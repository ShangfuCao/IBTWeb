{"ast":null,"code":"import _defineProperty from \"/Users/shangfualexcao/Dropbox (Personal)/My Mac (Shangfu\\u2019s MacBook Pro)/Documents/GitHub/IBT-Web/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/shangfualexcao/Dropbox (Personal)/My Mac (Shangfu\\u2019s MacBook Pro)/Documents/GitHub/IBT-Web/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/shangfualexcao/Dropbox (Personal)/My Mac (Shangfu\\u2019s MacBook Pro)/Documents/GitHub/IBT-Web/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nexport var IfcEvent;\n\n(function (IfcEvent) {\n  IfcEvent[\"onCameraReady\"] = \"onCameraReady\";\n})(IfcEvent || (IfcEvent = {}));\n\nexport var IfcEvents = /*#__PURE__*/function () {\n  function IfcEvents() {\n    _classCallCheck(this, IfcEvents);\n\n    this.events = _defineProperty({}, IfcEvent.onCameraReady, {\n      needsUpdate: false,\n      published: false,\n      actions: []\n    });\n  }\n\n  _createClass(IfcEvents, [{\n    key: \"subscribe\",\n    value: function subscribe(event, action) {\n      this.events[event].actions.push(action);\n      this.events[event].needsUpdate = true;\n      this.update(event);\n    }\n  }, {\n    key: \"publish\",\n    value: function publish(event) {\n      this.events[event].published = true;\n      this.update(event);\n    }\n  }, {\n    key: \"update\",\n    value: function update(event) {\n      if (this.events[event].needsUpdate && this.events[event].published) {\n        var actions = this.events[event].actions;\n\n        for (var i = 0; i < actions.length; i++) {\n          actions[i]();\n        }\n\n        actions.length = 0;\n      }\n    }\n  }]);\n\n  return IfcEvents;\n}();","map":{"version":3,"sources":["../../../src/components/context/ifcEvent.ts"],"names":[],"mappings":";;;AAAA,OAAA,IAAY,QAAZ;;AAAA,CAAA,UAAY,QAAZ,EAAoB;AAClB,EAAA,QAAA,CAAA,eAAA,CAAA,GAAA,eAAA;AACD,CAFD,EAAY,QAAQ,KAAR,QAAQ,GAAA,EAAA,CAApB;;AAYA,WAAa,SAAb;AAAA,uBAAA;AAAA;;AACU,SAAA,MAAA,uBACL,QAAQ,CAAC,aADJ,EACoB;AACxB,MAAA,WAAW,EAAE,KADW;AAExB,MAAA,SAAS,EAAE,KAFa;AAGxB,MAAA,OAAO,EAAE;AAHe,KADpB;AA4BT;;AA7BD;AAAA;AAAA,WASE,mBAAU,KAAV,EAA2B,MAA3B,EAAyD;AACvD,WAAK,MAAL,CAAY,KAAZ,EAAmB,OAAnB,CAA2B,IAA3B,CAAgC,MAAhC;AACA,WAAK,MAAL,CAAY,KAAZ,EAAmB,WAAnB,GAAiC,IAAjC;AACA,WAAK,MAAL,CAAY,KAAZ;AACD;AAbH;AAAA;AAAA,WAeE,iBAAQ,KAAR,EAAuB;AACrB,WAAK,MAAL,CAAY,KAAZ,EAAmB,SAAnB,GAA+B,IAA/B;AACA,WAAK,MAAL,CAAY,KAAZ;AACD;AAlBH;AAAA;AAAA,WAoBE,gBAAO,KAAP,EAAsB;AACpB,UAAI,KAAK,MAAL,CAAY,KAAZ,EAAmB,WAAnB,IAAkC,KAAK,MAAL,CAAY,KAAZ,EAAmB,SAAzD,EAAoE;AAClE,YAAM,OAAO,GAAG,KAAK,MAAL,CAAY,KAAZ,EAAmB,OAAnC;;AACA,aAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,OAAO,CAAC,MAA5B,EAAoC,CAAC,EAArC,EAAyC;AACvC,UAAA,OAAO,CAAC,CAAD,CAAP;AACD;;AACD,QAAA,OAAO,CAAC,MAAR,GAAiB,CAAjB;AACD;AACF;AA5BH;;AAAA;AAAA","sourceRoot":"","sourcesContent":["export var IfcEvent;\r\n(function (IfcEvent) {\r\n    IfcEvent[\"onCameraReady\"] = \"onCameraReady\";\r\n})(IfcEvent || (IfcEvent = {}));\r\nexport class IfcEvents {\r\n    constructor() {\r\n        this.events = {\r\n            [IfcEvent.onCameraReady]: {\r\n                needsUpdate: false,\r\n                published: false,\r\n                actions: []\r\n            }\r\n        };\r\n    }\r\n    subscribe(event, action) {\r\n        this.events[event].actions.push(action);\r\n        this.events[event].needsUpdate = true;\r\n        this.update(event);\r\n    }\r\n    publish(event) {\r\n        this.events[event].published = true;\r\n        this.update(event);\r\n    }\r\n    update(event) {\r\n        if (this.events[event].needsUpdate && this.events[event].published) {\r\n            const actions = this.events[event].actions;\r\n            for (let i = 0; i < actions.length; i++) {\r\n                actions[i]();\r\n            }\r\n            actions.length = 0;\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=ifcEvent.js.map"]},"metadata":{},"sourceType":"module"}