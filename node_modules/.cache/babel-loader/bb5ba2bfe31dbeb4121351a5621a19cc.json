{"ast":null,"code":"import _classCallCheck from \"/Users/shangfualexcao/Dropbox (Personal)/My Mac (Shangfu\\u2019s MacBook Pro)/Documents/GitHub/IBT-Web/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _assertThisInitialized from \"/Users/shangfualexcao/Dropbox (Personal)/My Mac (Shangfu\\u2019s MacBook Pro)/Documents/GitHub/IBT-Web/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/shangfualexcao/Dropbox (Personal)/My Mac (Shangfu\\u2019s MacBook Pro)/Documents/GitHub/IBT-Web/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/shangfualexcao/Dropbox (Personal)/My Mac (Shangfu\\u2019s MacBook Pro)/Documents/GitHub/IBT-Web/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport { Euler, EventDispatcher, Vector3 } from 'three';\n\nvar _euler = new Euler(0, 0, 0, 'YXZ');\n\nvar _vector = new Vector3();\n\nvar _changeEvent = {\n  type: 'change'\n};\nvar _lockEvent = {\n  type: 'lock'\n};\nvar _unlockEvent = {\n  type: 'unlock'\n};\n\nvar _PI_2 = Math.PI / 2;\n\nvar PointerLockControls = /*#__PURE__*/function (_EventDispatcher) {\n  _inherits(PointerLockControls, _EventDispatcher);\n\n  var _super = _createSuper(PointerLockControls);\n\n  function PointerLockControls(camera, domElement) {\n    var _this;\n\n    _classCallCheck(this, PointerLockControls);\n\n    _this = _super.call(this);\n\n    if (domElement === undefined) {\n      console.warn('THREE.PointerLockControls: The second parameter \"domElement\" is now mandatory.');\n      domElement = document.body;\n    }\n\n    _this.domElement = domElement;\n    _this.isLocked = false; // Set to constrain the pitch of the camera\n    // Range is 0 to Math.PI radians\n\n    _this.minPolarAngle = 0; // radians\n\n    _this.maxPolarAngle = Math.PI; // radians\n\n    var scope = _assertThisInitialized(_this);\n\n    function onMouseMove(event) {\n      if (scope.isLocked === false) return;\n      var movementX = event.movementX || event.mozMovementX || event.webkitMovementX || 0;\n      var movementY = event.movementY || event.mozMovementY || event.webkitMovementY || 0;\n\n      _euler.setFromQuaternion(camera.quaternion);\n\n      _euler.y -= movementX * 0.002;\n      _euler.x -= movementY * 0.002;\n      _euler.x = Math.max(_PI_2 - scope.maxPolarAngle, Math.min(_PI_2 - scope.minPolarAngle, _euler.x));\n      camera.quaternion.setFromEuler(_euler);\n      scope.dispatchEvent(_changeEvent);\n    }\n\n    function onPointerlockChange() {\n      if (scope.domElement.ownerDocument.pointerLockElement === scope.domElement) {\n        scope.dispatchEvent(_lockEvent);\n        scope.isLocked = true;\n      } else {\n        scope.dispatchEvent(_unlockEvent);\n        scope.isLocked = false;\n      }\n    }\n\n    function onPointerlockError() {\n      console.error('THREE.PointerLockControls: Unable to use Pointer Lock API');\n    }\n\n    _this.connect = function () {\n      scope.domElement.ownerDocument.addEventListener('mousemove', onMouseMove);\n      scope.domElement.ownerDocument.addEventListener('pointerlockchange', onPointerlockChange);\n      scope.domElement.ownerDocument.addEventListener('pointerlockerror', onPointerlockError);\n    };\n\n    _this.disconnect = function () {\n      scope.domElement.ownerDocument.removeEventListener('mousemove', onMouseMove);\n      scope.domElement.ownerDocument.removeEventListener('pointerlockchange', onPointerlockChange);\n      scope.domElement.ownerDocument.removeEventListener('pointerlockerror', onPointerlockError);\n    };\n\n    _this.dispose = function () {\n      this.disconnect();\n    };\n\n    _this.getObject = function () {\n      // retaining this method for backward compatibility\n      return camera;\n    };\n\n    _this.getDirection = function () {\n      var direction = new Vector3(0, 0, -1);\n      return function (v) {\n        return v.copy(direction).applyQuaternion(camera.quaternion);\n      };\n    }();\n\n    _this.moveForward = function (distance) {\n      // move forward parallel to the xz-plane\n      // assumes camera.up is y-up\n      _vector.setFromMatrixColumn(camera.matrix, 0);\n\n      _vector.crossVectors(camera.up, _vector);\n\n      camera.position.addScaledVector(_vector, distance);\n    };\n\n    _this.moveRight = function (distance) {\n      _vector.setFromMatrixColumn(camera.matrix, 0);\n\n      camera.position.addScaledVector(_vector, distance);\n    };\n\n    _this.lock = function () {\n      this.domElement.requestPointerLock();\n    };\n\n    _this.unlock = function () {\n      scope.domElement.ownerDocument.exitPointerLock();\n    };\n\n    _this.connect();\n\n    return _this;\n  }\n\n  return PointerLockControls;\n}(EventDispatcher);\n\nexport { PointerLockControls };","map":{"version":3,"sources":["/Users/shangfualexcao/Dropbox (Personal)/My Mac (Shangfuâ€™s MacBook Pro)/Documents/GitHub/IBT-Web/frontend/node_modules/three/examples/jsm/controls/PointerLockControls.js"],"names":["Euler","EventDispatcher","Vector3","_euler","_vector","_changeEvent","type","_lockEvent","_unlockEvent","_PI_2","Math","PI","PointerLockControls","camera","domElement","undefined","console","warn","document","body","isLocked","minPolarAngle","maxPolarAngle","scope","onMouseMove","event","movementX","mozMovementX","webkitMovementX","movementY","mozMovementY","webkitMovementY","setFromQuaternion","quaternion","y","x","max","min","setFromEuler","dispatchEvent","onPointerlockChange","ownerDocument","pointerLockElement","onPointerlockError","error","connect","addEventListener","disconnect","removeEventListener","dispose","getObject","getDirection","direction","v","copy","applyQuaternion","moveForward","distance","setFromMatrixColumn","matrix","crossVectors","up","position","addScaledVector","moveRight","lock","requestPointerLock","unlock","exitPointerLock"],"mappings":"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","sourcesContent":["import {\n\tEuler,\n\tEventDispatcher,\n\tVector3\n} from 'three';\n\nconst _euler = new Euler( 0, 0, 0, 'YXZ' );\nconst _vector = new Vector3();\n\nconst _changeEvent = { type: 'change' };\nconst _lockEvent = { type: 'lock' };\nconst _unlockEvent = { type: 'unlock' };\n\nconst _PI_2 = Math.PI / 2;\n\nclass PointerLockControls extends EventDispatcher {\n\n\tconstructor( camera, domElement ) {\n\n\t\tsuper();\n\n\t\tif ( domElement === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.PointerLockControls: The second parameter \"domElement\" is now mandatory.' );\n\t\t\tdomElement = document.body;\n\n\t\t}\n\n\t\tthis.domElement = domElement;\n\t\tthis.isLocked = false;\n\n\t\t// Set to constrain the pitch of the camera\n\t\t// Range is 0 to Math.PI radians\n\t\tthis.minPolarAngle = 0; // radians\n\t\tthis.maxPolarAngle = Math.PI; // radians\n\n\t\tconst scope = this;\n\n\t\tfunction onMouseMove( event ) {\n\n\t\t\tif ( scope.isLocked === false ) return;\n\n\t\t\tconst movementX = event.movementX || event.mozMovementX || event.webkitMovementX || 0;\n\t\t\tconst movementY = event.movementY || event.mozMovementY || event.webkitMovementY || 0;\n\n\t\t\t_euler.setFromQuaternion( camera.quaternion );\n\n\t\t\t_euler.y -= movementX * 0.002;\n\t\t\t_euler.x -= movementY * 0.002;\n\n\t\t\t_euler.x = Math.max( _PI_2 - scope.maxPolarAngle, Math.min( _PI_2 - scope.minPolarAngle, _euler.x ) );\n\n\t\t\tcamera.quaternion.setFromEuler( _euler );\n\n\t\t\tscope.dispatchEvent( _changeEvent );\n\n\t\t}\n\n\t\tfunction onPointerlockChange() {\n\n\t\t\tif ( scope.domElement.ownerDocument.pointerLockElement === scope.domElement ) {\n\n\t\t\t\tscope.dispatchEvent( _lockEvent );\n\n\t\t\t\tscope.isLocked = true;\n\n\t\t\t} else {\n\n\t\t\t\tscope.dispatchEvent( _unlockEvent );\n\n\t\t\t\tscope.isLocked = false;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onPointerlockError() {\n\n\t\t\tconsole.error( 'THREE.PointerLockControls: Unable to use Pointer Lock API' );\n\n\t\t}\n\n\t\tthis.connect = function () {\n\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'mousemove', onMouseMove );\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointerlockchange', onPointerlockChange );\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointerlockerror', onPointerlockError );\n\n\t\t};\n\n\t\tthis.disconnect = function () {\n\n\t\t\tscope.domElement.ownerDocument.removeEventListener( 'mousemove', onMouseMove );\n\t\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerlockchange', onPointerlockChange );\n\t\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerlockerror', onPointerlockError );\n\n\t\t};\n\n\t\tthis.dispose = function () {\n\n\t\t\tthis.disconnect();\n\n\t\t};\n\n\t\tthis.getObject = function () { // retaining this method for backward compatibility\n\n\t\t\treturn camera;\n\n\t\t};\n\n\t\tthis.getDirection = function () {\n\n\t\t\tconst direction = new Vector3( 0, 0, - 1 );\n\n\t\t\treturn function ( v ) {\n\n\t\t\t\treturn v.copy( direction ).applyQuaternion( camera.quaternion );\n\n\t\t\t};\n\n\t\t}();\n\n\t\tthis.moveForward = function ( distance ) {\n\n\t\t\t// move forward parallel to the xz-plane\n\t\t\t// assumes camera.up is y-up\n\n\t\t\t_vector.setFromMatrixColumn( camera.matrix, 0 );\n\n\t\t\t_vector.crossVectors( camera.up, _vector );\n\n\t\t\tcamera.position.addScaledVector( _vector, distance );\n\n\t\t};\n\n\t\tthis.moveRight = function ( distance ) {\n\n\t\t\t_vector.setFromMatrixColumn( camera.matrix, 0 );\n\n\t\t\tcamera.position.addScaledVector( _vector, distance );\n\n\t\t};\n\n\t\tthis.lock = function () {\n\n\t\t\tthis.domElement.requestPointerLock();\n\n\t\t};\n\n\t\tthis.unlock = function () {\n\n\t\t\tscope.domElement.ownerDocument.exitPointerLock();\n\n\t\t};\n\n\t\tthis.connect();\n\n\t}\n\n}\n\nexport { PointerLockControls };\n"]},"metadata":{},"sourceType":"module"}