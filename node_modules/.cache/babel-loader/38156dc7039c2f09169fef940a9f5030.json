{"ast":null,"code":"export var IfcEvent;\n\n(function (IfcEvent) {\n  IfcEvent[\"onCameraReady\"] = \"onCameraReady\";\n})(IfcEvent || (IfcEvent = {}));\n\nexport class IfcEvents {\n  constructor() {\n    this.events = {\n      [IfcEvent.onCameraReady]: {\n        needsUpdate: false,\n        published: false,\n        actions: []\n      }\n    };\n  }\n\n  subscribe(event, action) {\n    this.events[event].actions.push(action);\n    this.events[event].needsUpdate = true;\n    this.update(event);\n  }\n\n  publish(event) {\n    this.events[event].published = true;\n    this.update(event);\n  }\n\n  update(event) {\n    if (this.events[event].needsUpdate && this.events[event].published) {\n      const actions = this.events[event].actions;\n\n      for (let i = 0; i < actions.length; i++) {\n        actions[i]();\n      }\n\n      actions.length = 0;\n    }\n  }\n\n}","map":{"version":3,"sources":["../../../src/components/context/ifcEvent.ts"],"names":[],"mappings":"AAAA,OAAA,IAAY,QAAZ;;AAAA,CAAA,UAAY,QAAZ,EAAoB;AAClB,EAAA,QAAA,CAAA,eAAA,CAAA,GAAA,eAAA;AACD,CAFD,EAAY,QAAQ,KAAR,QAAQ,GAAA,EAAA,CAApB;;AAYA,OAAM,MAAO,SAAP,CAAgB;AAAtB,EAAA,WAAA,GAAA;AACU,SAAA,MAAA,GAAyB;AAC/B,OAAC,QAAQ,CAAC,aAAV,GAA0B;AACxB,QAAA,WAAW,EAAE,KADW;AAExB,QAAA,SAAS,EAAE,KAFa;AAGxB,QAAA,OAAO,EAAE;AAHe;AADK,KAAzB;AA4BT;;AApBC,EAAA,SAAS,CAAC,KAAD,EAAkB,MAAlB,EAAgD;AACvD,SAAK,MAAL,CAAY,KAAZ,EAAmB,OAAnB,CAA2B,IAA3B,CAAgC,MAAhC;AACA,SAAK,MAAL,CAAY,KAAZ,EAAmB,WAAnB,GAAiC,IAAjC;AACA,SAAK,MAAL,CAAY,KAAZ;AACD;;AAED,EAAA,OAAO,CAAC,KAAD,EAAgB;AACrB,SAAK,MAAL,CAAY,KAAZ,EAAmB,SAAnB,GAA+B,IAA/B;AACA,SAAK,MAAL,CAAY,KAAZ;AACD;;AAED,EAAA,MAAM,CAAC,KAAD,EAAgB;AACpB,QAAI,KAAK,MAAL,CAAY,KAAZ,EAAmB,WAAnB,IAAkC,KAAK,MAAL,CAAY,KAAZ,EAAmB,SAAzD,EAAoE;AAClE,YAAM,OAAO,GAAG,KAAK,MAAL,CAAY,KAAZ,EAAmB,OAAnC;;AACA,WAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,OAAO,CAAC,MAA5B,EAAoC,CAAC,EAArC,EAAyC;AACvC,QAAA,OAAO,CAAC,CAAD,CAAP;AACD;;AACD,MAAA,OAAO,CAAC,MAAR,GAAiB,CAAjB;AACD;AACF;;AA5BmB","sourceRoot":"","sourcesContent":["export var IfcEvent;\r\n(function (IfcEvent) {\r\n    IfcEvent[\"onCameraReady\"] = \"onCameraReady\";\r\n})(IfcEvent || (IfcEvent = {}));\r\nexport class IfcEvents {\r\n    constructor() {\r\n        this.events = {\r\n            [IfcEvent.onCameraReady]: {\r\n                needsUpdate: false,\r\n                published: false,\r\n                actions: []\r\n            }\r\n        };\r\n    }\r\n    subscribe(event, action) {\r\n        this.events[event].actions.push(action);\r\n        this.events[event].needsUpdate = true;\r\n        this.update(event);\r\n    }\r\n    publish(event) {\r\n        this.events[event].published = true;\r\n        this.update(event);\r\n    }\r\n    update(event) {\r\n        if (this.events[event].needsUpdate && this.events[event].published) {\r\n            const actions = this.events[event].actions;\r\n            for (let i = 0; i < actions.length; i++) {\r\n                actions[i]();\r\n            }\r\n            actions.length = 0;\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=ifcEvent.js.map"]},"metadata":{},"sourceType":"module"}