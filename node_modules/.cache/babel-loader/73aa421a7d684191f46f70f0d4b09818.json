{"ast":null,"code":"import { BoxGeometry, BufferGeometry, Group, Line, Mesh, Vector3 } from 'three';\nimport { CSS2DObject } from 'three/examples/jsm/renderers/CSS2DRenderer';\nexport class IfcDimensionLine {\n  constructor(context, start, end, lineMaterial, endpointMaterial, endpointGeometry, className, endpointScale) {\n    // Elements\n    this.root = new Group();\n    this.endpointMeshes = [];\n    this.scale = new Vector3(1, 1, 1);\n    this.boundingSize = 0.05;\n    this.context = context;\n    this.labelClassName = className;\n    this.start = start;\n    this.end = end;\n    this.scale = endpointScale;\n    this.lineMaterial = lineMaterial;\n    this.endpointMaterial = endpointMaterial;\n    this.length = this.getLength();\n    this.center = this.getCenter();\n    this.axis = new BufferGeometry().setFromPoints([start, end]);\n    this.line = new Line(this.axis, this.lineMaterial);\n    this.root.add(this.line);\n    this.endpoint = endpointGeometry;\n    this.addEndpointMeshes();\n    this.textLabel = this.newText();\n    this.root.renderOrder = 2;\n    this.context.getScene().add(this.root);\n    this.camera = this.context.getCamera();\n    this.context.ifcCamera.onChange.on(() => this.rescaleObjectsToCameraPosition());\n    this.rescaleObjectsToCameraPosition();\n  }\n\n  get boundingBox() {\n    return this.boundingMesh;\n  }\n\n  get text() {\n    return this.textLabel;\n  }\n\n  set dimensionColor(dimensionColor) {\n    this.endpointMaterial.color = dimensionColor;\n    this.lineMaterial.color = dimensionColor;\n  }\n\n  set visibility(visible) {\n    this.root.visible = visible;\n    this.textLabel.visible = visible;\n  }\n\n  set endpointGeometry(geometry) {\n    this.endpointMeshes.forEach(mesh => this.root.remove(mesh));\n    this.endpointMeshes = [];\n    this.endpoint = geometry;\n    this.addEndpointMeshes();\n  }\n\n  set endpointScale(scale) {\n    this.scale = scale;\n    this.endpointMeshes.forEach(mesh => mesh.scale.set(scale.x, scale.y, scale.z));\n  }\n\n  set endPoint(point) {\n    this.end = point;\n    if (!this.axis) return;\n    const position = this.axis.attributes.position;\n    if (!position) return;\n    position.setXYZ(1, point.x, point.y, point.z);\n    position.needsUpdate = true;\n    this.endpointMeshes[1].position.set(point.x, point.y, point.z);\n    this.endpointMeshes[1].lookAt(this.start);\n    this.endpointMeshes[0].lookAt(this.end);\n    this.length = this.getLength();\n    this.textLabel.element.textContent = this.getTextContent();\n    this.center = this.getCenter();\n    this.textLabel.position.set(this.center.x, this.center.y, this.center.z);\n    this.line.computeLineDistances();\n  }\n\n  removeFromScene() {\n    this.context.getScene().remove(this.root);\n    this.root.remove(this.textLabel);\n  }\n\n  createBoundingBox() {\n    this.boundingMesh = this.newBoundingBox();\n    this.setupBoundingBox(this.end);\n  }\n\n  rescaleObjectsToCameraPosition() {\n    this.endpointMeshes.forEach(mesh => this.rescaleMesh(mesh, IfcDimensionLine.scaleFactor));\n\n    if (this.boundingMesh) {\n      this.rescaleMesh(this.boundingMesh, this.boundingSize, true, true, false);\n    }\n  }\n\n  rescaleMesh(mesh) {\n    let scalefactor = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    let x = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    let y = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n    let z = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n    let scale = new Vector3().subVectors(mesh.position, this.camera.position).length();\n    scale *= scalefactor;\n    const scaleX = x ? scale : 1;\n    const scaleY = y ? scale : 1;\n    const scaleZ = z ? scale : 1;\n    mesh.scale.set(scaleX, scaleY, scaleZ);\n  }\n\n  addEndpointMeshes() {\n    this.newEndpointMesh(this.start, this.end);\n    this.newEndpointMesh(this.end, this.start);\n  }\n\n  newEndpointMesh(position, direction) {\n    const mesh = new Mesh(this.endpoint, this.endpointMaterial);\n    mesh.position.set(position.x, position.y, position.z);\n    mesh.scale.set(this.scale.x, this.scale.y, this.scale.z);\n    mesh.lookAt(direction);\n    this.endpointMeshes.push(mesh);\n    this.root.add(mesh);\n  }\n\n  newText() {\n    const htmlText = document.createElement('div');\n    htmlText.className = this.labelClassName;\n    htmlText.textContent = this.getTextContent();\n    const label = new CSS2DObject(htmlText);\n    label.position.set(this.center.x, this.center.y, this.center.z);\n    this.root.add(label);\n    return label;\n  }\n\n  getTextContent() {\n    return `${this.length} m`;\n  }\n\n  newBoundingBox() {\n    const box = new BoxGeometry(1, 1, this.length);\n    return new Mesh(box);\n  }\n\n  setupBoundingBox(end) {\n    if (!this.boundingMesh) return;\n    this.boundingMesh.position.set(this.center.x, this.center.y, this.center.z);\n    this.boundingMesh.lookAt(end);\n    this.boundingMesh.visible = false;\n    this.root.add(this.boundingMesh);\n  }\n\n  getLength() {\n    return parseFloat(this.start.distanceTo(this.end).toFixed(2));\n  }\n\n  getCenter() {\n    let dir = this.end.clone().sub(this.start);\n    const len = dir.length() * 0.5;\n    dir = dir.normalize().multiplyScalar(len);\n    return this.start.clone().add(dir);\n  }\n\n}\nIfcDimensionLine.scaleFactor = 0.1;","map":{"version":3,"sources":["../../../../src/components/display/dimensions/dimension-line.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import { BoxGeometry, BufferGeometry, Group, Line, Mesh, Vector3 } from 'three';\r\nimport { CSS2DObject } from 'three/examples/jsm/renderers/CSS2DRenderer';\r\nexport class IfcDimensionLine {\r\n    constructor(context, start, end, lineMaterial, endpointMaterial, endpointGeometry, className, endpointScale) {\r\n        // Elements\r\n        this.root = new Group();\r\n        this.endpointMeshes = [];\r\n        this.scale = new Vector3(1, 1, 1);\r\n        this.boundingSize = 0.05;\r\n        this.context = context;\r\n        this.labelClassName = className;\r\n        this.start = start;\r\n        this.end = end;\r\n        this.scale = endpointScale;\r\n        this.lineMaterial = lineMaterial;\r\n        this.endpointMaterial = endpointMaterial;\r\n        this.length = this.getLength();\r\n        this.center = this.getCenter();\r\n        this.axis = new BufferGeometry().setFromPoints([start, end]);\r\n        this.line = new Line(this.axis, this.lineMaterial);\r\n        this.root.add(this.line);\r\n        this.endpoint = endpointGeometry;\r\n        this.addEndpointMeshes();\r\n        this.textLabel = this.newText();\r\n        this.root.renderOrder = 2;\r\n        this.context.getScene().add(this.root);\r\n        this.camera = this.context.getCamera();\r\n        this.context.ifcCamera.onChange.on(() => this.rescaleObjectsToCameraPosition());\r\n        this.rescaleObjectsToCameraPosition();\r\n    }\r\n    get boundingBox() {\r\n        return this.boundingMesh;\r\n    }\r\n    get text() {\r\n        return this.textLabel;\r\n    }\r\n    set dimensionColor(dimensionColor) {\r\n        this.endpointMaterial.color = dimensionColor;\r\n        this.lineMaterial.color = dimensionColor;\r\n    }\r\n    set visibility(visible) {\r\n        this.root.visible = visible;\r\n        this.textLabel.visible = visible;\r\n    }\r\n    set endpointGeometry(geometry) {\r\n        this.endpointMeshes.forEach((mesh) => this.root.remove(mesh));\r\n        this.endpointMeshes = [];\r\n        this.endpoint = geometry;\r\n        this.addEndpointMeshes();\r\n    }\r\n    set endpointScale(scale) {\r\n        this.scale = scale;\r\n        this.endpointMeshes.forEach((mesh) => mesh.scale.set(scale.x, scale.y, scale.z));\r\n    }\r\n    set endPoint(point) {\r\n        this.end = point;\r\n        if (!this.axis)\r\n            return;\r\n        const position = this.axis.attributes.position;\r\n        if (!position)\r\n            return;\r\n        position.setXYZ(1, point.x, point.y, point.z);\r\n        position.needsUpdate = true;\r\n        this.endpointMeshes[1].position.set(point.x, point.y, point.z);\r\n        this.endpointMeshes[1].lookAt(this.start);\r\n        this.endpointMeshes[0].lookAt(this.end);\r\n        this.length = this.getLength();\r\n        this.textLabel.element.textContent = this.getTextContent();\r\n        this.center = this.getCenter();\r\n        this.textLabel.position.set(this.center.x, this.center.y, this.center.z);\r\n        this.line.computeLineDistances();\r\n    }\r\n    removeFromScene() {\r\n        this.context.getScene().remove(this.root);\r\n        this.root.remove(this.textLabel);\r\n    }\r\n    createBoundingBox() {\r\n        this.boundingMesh = this.newBoundingBox();\r\n        this.setupBoundingBox(this.end);\r\n    }\r\n    rescaleObjectsToCameraPosition() {\r\n        this.endpointMeshes.forEach((mesh) => this.rescaleMesh(mesh, IfcDimensionLine.scaleFactor));\r\n        if (this.boundingMesh) {\r\n            this.rescaleMesh(this.boundingMesh, this.boundingSize, true, true, false);\r\n        }\r\n    }\r\n    rescaleMesh(mesh, scalefactor = 1, x = true, y = true, z = true) {\r\n        let scale = new Vector3().subVectors(mesh.position, this.camera.position).length();\r\n        scale *= scalefactor;\r\n        const scaleX = x ? scale : 1;\r\n        const scaleY = y ? scale : 1;\r\n        const scaleZ = z ? scale : 1;\r\n        mesh.scale.set(scaleX, scaleY, scaleZ);\r\n    }\r\n    addEndpointMeshes() {\r\n        this.newEndpointMesh(this.start, this.end);\r\n        this.newEndpointMesh(this.end, this.start);\r\n    }\r\n    newEndpointMesh(position, direction) {\r\n        const mesh = new Mesh(this.endpoint, this.endpointMaterial);\r\n        mesh.position.set(position.x, position.y, position.z);\r\n        mesh.scale.set(this.scale.x, this.scale.y, this.scale.z);\r\n        mesh.lookAt(direction);\r\n        this.endpointMeshes.push(mesh);\r\n        this.root.add(mesh);\r\n    }\r\n    newText() {\r\n        const htmlText = document.createElement('div');\r\n        htmlText.className = this.labelClassName;\r\n        htmlText.textContent = this.getTextContent();\r\n        const label = new CSS2DObject(htmlText);\r\n        label.position.set(this.center.x, this.center.y, this.center.z);\r\n        this.root.add(label);\r\n        return label;\r\n    }\r\n    getTextContent() {\r\n        return `${this.length} m`;\r\n    }\r\n    newBoundingBox() {\r\n        const box = new BoxGeometry(1, 1, this.length);\r\n        return new Mesh(box);\r\n    }\r\n    setupBoundingBox(end) {\r\n        if (!this.boundingMesh)\r\n            return;\r\n        this.boundingMesh.position.set(this.center.x, this.center.y, this.center.z);\r\n        this.boundingMesh.lookAt(end);\r\n        this.boundingMesh.visible = false;\r\n        this.root.add(this.boundingMesh);\r\n    }\r\n    getLength() {\r\n        return parseFloat(this.start.distanceTo(this.end).toFixed(2));\r\n    }\r\n    getCenter() {\r\n        let dir = this.end.clone().sub(this.start);\r\n        const len = dir.length() * 0.5;\r\n        dir = dir.normalize().multiplyScalar(len);\r\n        return this.start.clone().add(dir);\r\n    }\r\n}\r\nIfcDimensionLine.scaleFactor = 0.1;\r\n//# sourceMappingURL=dimension-line.js.map"]},"metadata":{},"sourceType":"module"}