{"ast":null,"code":"import _regeneratorRuntime from \"/Users/shangfualexcao/Dropbox (Personal)/My Mac (Shangfu\\u2019s MacBook Pro)/Documents/GitHub/IBT-Web/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/shangfualexcao/Dropbox (Personal)/My Mac (Shangfu\\u2019s MacBook Pro)/Documents/GitHub/IBT-Web/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/shangfualexcao/Dropbox (Personal)/My Mac (Shangfu\\u2019s MacBook Pro)/Documents/GitHub/IBT-Web/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/shangfualexcao/Dropbox (Personal)/My Mac (Shangfu\\u2019s MacBook Pro)/Documents/GitHub/IBT-Web/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/shangfualexcao/Dropbox (Personal)/My Mac (Shangfu\\u2019s MacBook Pro)/Documents/GitHub/IBT-Web/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/shangfualexcao/Dropbox (Personal)/My Mac (Shangfu\\u2019s MacBook Pro)/Documents/GitHub/IBT-Web/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\nimport { IfcComponent } from '../../base-types';\nexport var GLTFManager = /*#__PURE__*/function (_IfcComponent) {\n  _inherits(GLTFManager, _IfcComponent);\n\n  var _super = _createSuper(GLTFManager);\n\n  function GLTFManager(context) {\n    var _this;\n\n    _classCallCheck(this, GLTFManager);\n\n    _this = _super.call(this, context);\n    _this.loader = new GLTFLoader();\n    _this.GLTFModels = {};\n    _this.context = context;\n    return _this;\n  }\n\n  _createClass(GLTFManager, [{\n    key: \"load\",\n    value: function () {\n      var _load = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(modelID, url) {\n        var loaded, mesh;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.loader.loadAsync(url);\n\n              case 2:\n                loaded = _context.sent;\n                mesh = loaded.scene;\n                this.GLTFModels[modelID] = mesh;\n                this.context.getScene().add(mesh);\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function load(_x, _x2) {\n        return _load.apply(this, arguments);\n      }\n\n      return load;\n    }()\n  }, {\n    key: \"getModel\",\n    value: function getModel(modelID) {\n      if (!this.GLTFModels[modelID]) {\n        throw new Error('The requested GLTF model does not exist!');\n      }\n\n      return this.GLTFModels[modelID];\n    }\n  }]);\n\n  return GLTFManager;\n}(IfcComponent);","map":{"version":3,"sources":["../../../src/components/import-export/glTF.ts"],"names":[],"mappings":";;;;;;AAAA,SAAe,UAAf,QAAiC,uCAAjC;AAEA,SAAkB,YAAlB,QAAsC,kBAAtC;AAEA,WAAa,WAAb;AAAA;;AAAA;;AAKE,uBAAY,OAAZ,EAA4B;AAAA;;AAAA;;AAC1B,8BAAM,OAAN;AAJM,UAAA,MAAA,GAAS,IAAI,UAAJ,EAAT;AACA,UAAA,UAAA,GAA2C,EAA3C;AAIN,UAAK,OAAL,GAAe,OAAf;AAF0B;AAG3B;;AARH;AAAA;AAAA;AAAA,2EAUE,iBAAW,OAAX,EAA4B,GAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACwB,KAAK,MAAL,CAAY,SAAZ,CAAsB,GAAtB,CADxB;;AAAA;AACQ,gBAAA,MADR;AAEQ,gBAAA,IAFR,GAEe,MAAM,CAAC,KAFtB;AAGE,qBAAK,UAAL,CAAgB,OAAhB,IAA2B,IAA3B;AACA,qBAAK,OAAL,CAAa,QAAb,GAAwB,GAAxB,CAA4B,IAA5B;;AAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAVF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,WAiBE,kBAAS,OAAT,EAAwB;AACtB,UAAI,CAAC,KAAK,UAAL,CAAgB,OAAhB,CAAL,EAA+B;AAC7B,cAAM,IAAI,KAAJ,CAAU,0CAAV,CAAN;AACD;;AACD,aAAO,KAAK,UAAL,CAAgB,OAAhB,CAAP;AACD;AAtBH;;AAAA;AAAA,EAAiC,YAAjC","sourceRoot":"","sourcesContent":["import { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\r\nimport { IfcComponent } from '../../base-types';\r\nexport class GLTFManager extends IfcComponent {\r\n    constructor(context) {\r\n        super(context);\r\n        this.loader = new GLTFLoader();\r\n        this.GLTFModels = {};\r\n        this.context = context;\r\n    }\r\n    async load(modelID, url) {\r\n        const loaded = (await this.loader.loadAsync(url));\r\n        const mesh = loaded.scene;\r\n        this.GLTFModels[modelID] = mesh;\r\n        this.context.getScene().add(mesh);\r\n    }\r\n    getModel(modelID) {\r\n        if (!this.GLTFModels[modelID]) {\r\n            throw new Error('The requested GLTF model does not exist!');\r\n        }\r\n        return this.GLTFModels[modelID];\r\n    }\r\n}\r\n//# sourceMappingURL=glTF.js.map"]},"metadata":{},"sourceType":"module"}